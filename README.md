# Content based Music Recommendation System

![image](https://user-images.githubusercontent.com/13203059/163527232-91f5d9e5-7bd0-4ca4-a251-c22e0419876e.png)

[![PyPI](https://img.shields.io/pypi/pyversions/locust.svg)](https://pypi.org/project/locust/)
![Tests](https://github.com/kshitijzutshi/DAMG7245-Final-Project/actions/workflows/testing_workflow.yml/badge.svg)


![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54)
![](https://img.shields.io/badge/Google_Cloud-4285F4?style=for-the-badge&logo=google-cloud&logoColor=white)
![](https://img.shields.io/badge/Google_Cloud-4285F4?style=for-the-badge&logo=google-cloud&logoColor=white)
![](https://img.shields.io/badge/Spotify-1ED760?&style=for-the-badge&logo=spotify&logoColor=white)
![](https://img.shields.io/badge/GitHub_Actions-2088FF?style=for-the-badge&logo=github-actions&logoColor=white)
![](https://img.shields.io/badge/Streamlit-FF4B4B?style=for-the-badge&logo=Streamlit&logoColor=white)

# CLaaT Document

[Access the Claat document here](https://codelabs-preview.appspot.com/?file_id=12z0C4Hw5840SwWBf6vqpAS81ir7TEm-NcLhjHyZOQW4#12) 🚀

[![Open in Gitpod](https://gitpod.io/button/open-in-gitpod.svg)](https://gitpod.io/#https://github.com/kshitijzutshi/DAMG7245-Final-Project)

# Overview 📝

We use automated recommender systems everywhere in our day-to -day lives,be it the TV show to binge watch on Netflix, playlists on Youtube or Job recommendations on LinkedIn. In the same space we have recommender systems in music applications as well - Spotify, FreeSound,Songkick to name a few. As part of an academic project for course Big Data Systems & Intelligence Analytics we will build a data pipeline based on a similar idea, wherein we will use pre trained model inference to suggest users recommended music playlists that suit their interests.

# Goals 🎯

Our objective is to build an application where  users will be able to provide a link to their music playlist and get relevant content based recommendations from our pre-trained Machine learning model. Features that are planned to be implemented around this recommendation system pipeline are as follows - 

💡 Users can have the options  to get  most similar song recommendations based on Input song of user’s choice or input a user’s spotify playlist. The results for which are generated by using the K Means clustering model

💡 Using recently searched songs data of User, users would receive Email 📧 music recommendations on a weekly basis. 

💡 Implement User analytics Dashboard to account for the following - Word cloud, playlist recommendation feedback(like/dislike), Most popular genres among users, last activity etc.



# Use cases 📑

By creating veracity and options for Music listeners and analyzing their listening patterns, 
A Music Recommendation system like ours can be integrated/shared with social media platforms like Instagram and snapchat to search for similar songs based on the user input.


# Dataset Source 🔦

Spotify Million playlist dataset : AIcrowd | Spotify Million Playlist Dataset Challenge | Challenges
The dataset contains 1,000,000 playlists, including playlist titles and track titles, created by users on the Spotify platform between January 2010 and October 2017.It has 1 million Spotify playlists, over 2 million unique tracks, and nearly 300,000 artists.

# Process Outline

1. Data Preprocessing 
2. Understanding the Dataset - Exploratory Data Analysis(EDA)
3. Building a pipeline system using pretrained model and also using various tools/softwares(AWS Sagemaker, Streamlit, GCP)
4. Deploying the model on AWS
5. Build a web application using streamlit for showcasing the results.


# Milestones

| Time Frame  | Tasks                                                               |
|:-----------:|:-------------------------------------------------------------------:|
| Day 1 - 5   | Data processing, EDA, Model selection                               |
| Day 5 - 10  | Deployment of Models, Setup of Data pipeline, Streamlit Integration |
| Day 10 - 15 | System integration, App enhancements, Testing and documentation     |


# Project Folder Structure

```
📦workflows
 ┣ 📜close-issue.yml
 ┣ 📜get-weekly-top10.yaml
 ┣ 📜hello.yaml
 ┣ 📜new_top50.yml
 ┣ 📜send-email.yml
 ┗ 📜testing_workflow.yml
 📦code
 ┣ 📜Data_Preprocessing.ipynb
 ┣ 📜Exploratory Data Analysis.ipynb
 ┣ 📜Get_MPD_Data.ipynb
 ┣ 📜kmeans-sagemaker.ipynb
 ┣ 📜model_selection_visualization.ipynb
 ┣ 📜Playlist_Recommendation.ipynb
 ┣ 📜read_spotify_million_playlists.py
 ┗ 📜test.ipynb
 📦data
 ┣ 📂smp_data
 ┣ 📜2022_19_19_23_29_24_MPD_Extended.csv
 ┣ 📜2022_19_19_23_29_40_playlists_20000.json
 ┣ 📜2022_20_20_00_58_35_Playlist_Feats_20000.csv
 ┣ 📜spotify_20K_playlists.db
 ┗ 📜MPD.csv
 📦htmlcov
 ┣ 📜coverage_html.js
 ┣ 📜d_36f028580bb02cc8_locust_test_py.html
 ┣ 📜d_36f028580bb02cc8_test_songname_py.html
 ┣ 📜favicon_32.png
 ┣ 📜index.html
 ┣ 📜keybd_closed.png
 ┣ 📜keybd_open.png
 ┣ 📜status.json
 ┗ 📜style.css
 📦images
 📦model
 ┣ 📜openTSNETransformer.sav
 ┗ 📜StdScaler.sav
 📦streamlit
 ┣ 📂assets
 ┃ ┣ 📂images
 ┃ ┃ ┣ 📜login.gif
 ┃ ┃ ┣ 📜logo.png
 ┃ ┃ ┣ 📜settings.png
 ┃ ┃ ┣ 📜spotify.jpg
 ┃ ┃ ┣ 📜spotify.png
 ┃ ┃ ┣ 📜spotify_get_playlist_uri.png
 ┃ ┃ ┗ 📜twitter-logo.png
 ┃ ┣ 📜.DS_Store
 ┃ ┗ 📜styles.css
 ┣ 📜new.csv
 ┣ 📜spotipy_client.py
 ┗ 📜streamlit.py
 📦test
 ┣ 📜locust_test.py
 ┣ 📜test_songname.py
 ┗ 📜tracks_10.csv
 ┣ 📜requirements.txt
 ┣ 📜requirements_dev.txt
 ┗ 📜send_email.py
 ```

# Deployment Details

The Spotify music recommendation app has been deployed on Google Cloud Compute Engine and Streamlit ☁


# Github Actions - Workflows

1. Close an Issue if the comment says "close issue"

![close-issue-actions](https://user-images.githubusercontent.com/13203059/165130958-945f07cb-cfc2-43c2-a40f-7f5e790b8c25.gif)

2. Pytest and coverage test on multiple versions of python and OS - On each push/pull request

![image](https://user-images.githubusercontent.com/13203059/166744789-e49f6682-7246-4757-84c6-d0a06e6b36c9.png)

3. Weekly Spotify Recommendations based on last searched song by user - CRON workflow

![image](https://user-images.githubusercontent.com/13203059/166855338-1948ace0-9e2d-4047-b3b7-c0f04b22b8ec.png)


# Demo Walk through Video

[![IMAGE ALT TEXT HERE](https://img.youtube.com/vi/MqxsdbIJzzc/0.jpg)](https://www.youtube.com/watch?v=MqxsdbIJzzc)


# Contributions

| Contributor           | GitHub Issues                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Status     | % Contribution |
|:---------------------:|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|:----------:|:--------------:|
| Kshitij Zutshi        | ![Issue #4](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/4), ![Issue #10](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/10), ![Issue #9](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/9), ![Issue #6](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/5), ![Issue #6](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/6), ![Issue #17](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/17), ![Issue #23](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/23), ![Issue #21](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/21), ![Issue #26](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/26), ![Issue #27](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/27) | ✅ Complete | 40%            |
| Priyanka Dilip Shinde | ![Issue #1](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/1), ![Issue #5](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/5), ![Issue #6](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/6), ![Issue #12](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/12), ![Issue #24](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/24), ![Issue #7](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/7), ![Issue #20](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/20)                                                                                                                                                                                                                                                    | ✅ Complete | 30%            |
| Dwithika Shetty       | ![Issue #2](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/2), ![Issue #6](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/5), ![Issue #11](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/11), ![Issue #22](https://github.com/kshitijzutshi/DAMG7245-Final-Project/issues/22)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | ✅ Complete | 30%            |




# Reference 

[How to build a music recommender system. | Towards Data Science](https://towardsdatascience.com/how-to-build-an-amazing-music-recommendation-system-4cce2719a572)

[Music Recommender System (iitk.ac.in)](https://www.cse.iitk.ac.in/users/cs365/2014/_submissions/shefalig/project/)

[Music APIs - A List of Free and Public APIs (the-api-collective.com)](https://the-api-collective.com/category/music)

[AIcrowd | Spotify Million Playlist Dataset Challenge | Challenges](https://www.aicrowd.com/challenges/spotify-million-playlist-dataset-challenge)



